{"remainingRequest":"/home/filippo/Área de Trabalho/snowman/front/node_modules/babel-loader/lib/index.js!/home/filippo/Área de Trabalho/snowman/front/node_modules/eslint-loader/index.js??ref--13-0!/home/filippo/Área de Trabalho/snowman/front/src/router/index.js","dependencies":[{"path":"/home/filippo/Área de Trabalho/snowman/front/src/router/index.js","mtime":1617754327911},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/cache-loader/dist/cjs.js","mtime":1614099632392},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/babel-loader/lib/index.js","mtime":1614027570184},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/eslint-loader/index.js","mtime":1605203058655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL3ZpZXdzL0hvbWUudnVlJzsKaW1wb3J0IFRva2VuU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9zZXJ2aWNlLnRva2VuJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZSwKICBtZXRhOiB7CiAgICBwdWJsaWM6IHRydWUsCiAgICBvbmx5V2hlbkxvZ2dlZE91dDogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICcvc2lnbmluJywKICBuYW1lOiAnU2lnbmluJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoCiAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovCiAgICAnLi4vdmlld3MvU2lnbmluLnZ1ZScpOwogIH0sCiAgbWV0YTogewogICAgcHVibGljOiB0cnVlLAogICAgb25seVdoZW5Mb2dnZWRPdXQ6IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL3NpZ251cCcsCiAgbmFtZTogJ1NpZ251cCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLwogICAgJy4uL3ZpZXdzL1NpZ251cC52dWUnKTsKICB9LAogIG1ldGE6IHsKICAgIHB1YmxpYzogdHJ1ZSwKICAgIG9ubHlXaGVuTG9nZ2VkT3V0OiB0cnVlCiAgfQp9LCB7CiAgcGF0aDogJy9mZWVkJywKICBuYW1lOiAnRmVlZCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLwogICAgJy4uL3ZpZXdzL0ZlZWQudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy91c2VyJywKICBuYW1lOiAnVXNlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLwogICAgJy4uL3ZpZXdzL1VzZXIudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy9zZWFyY2gnLAogIG5hbWU6ICdTZWFyY2gnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8KICAgICcuLi92aWV3cy9TZWFyY2gudnVlJyk7CiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBsaW5rQWN0aXZlQ2xhc3M6ICJhY3RpdmUiLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgaXNQdWJsaWMgPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnB1YmxpYzsKICB9KTsgLy8gY29uc3QgaXNDbGllbnQgPSB0by5tYXRjaGVkLnNvbWUocmVjb3JkID0+IHJlY29yZC5tZXRhLmNsaWVudCk7CgogIHZhciBvbmx5V2hlbkxvZ2dlZE91dCA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICByZXR1cm4gcmVjb3JkLm1ldGEub25seVdoZW5Mb2dnZWRPdXQ7CiAgfSk7CiAgdmFyIGxvZ2dlZEluID0gISFUb2tlblNlcnZpY2UuZ2V0VG9rZW4oKTsKCiAgaWYgKCFpc1B1YmxpYyAmJiAhbG9nZ2VkSW4pIHsKICAgIHJldHVybiBuZXh0KHsKICAgICAgcGF0aDogJy8nCiAgICB9KTsgLy8gcXVlcnk6IHsgcmVkaXJlY3Q6IHRvLmZ1bGxQYXRoLCB0eXBlOiAnY2hlY2tlZCcgfSwKICB9IC8vIERvIG5vdCBhbGxvdyB1c2VyIHRvIHZpc2l0IGxvZ2luIHBhZ2Ugb3IgcmVnaXN0ZXIgcGFnZSBpZiB0aGV5IGFyZSBsb2dnZWQgaW4KCgogIGlmIChvbmx5V2hlbkxvZ2dlZE91dCAmJiBsb2dnZWRJbikgewogICAgcmV0dXJuIG5leHQoJy9mZWVkJyk7CiAgfQoKICBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/home/filippo/Área de Trabalho/snowman/front/src/router/index.js"],"names":["Vue","VueRouter","Home","TokenService","use","routes","path","name","component","meta","public","onlyWhenLoggedOut","router","mode","linkActiveClass","beforeEach","to","from","next","isPublic","matched","some","record","loggedIn","getToken"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,SAAR;AAEA,IAAMI,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEN,IAHb;AAIEO,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,IADJ;AAEJC,IAAAA,iBAAiB,EAAE;AAFf;AAJR,CADa,EAUb;AACEL,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,yBAAvC,CAAN;AAAA,GAHb;AAIEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,IADJ;AAEJC,IAAAA,iBAAiB,EAAE;AAFf;AAJR,CAVa,EAmBb;AACEL,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,yBAAvC,CAAN;AAAA,GAHb;AAIEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,IADJ;AAEJC,IAAAA,iBAAiB,EAAE;AAFf;AAJR,CAnBa,EA4Bb;AACEL,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,uBAAvC,CAAN;AAAA;AAHb,CA5Ba,EAiCb;AACEF,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,uBAAvC,CAAN;AAAA;AAHb,CAjCa,EAsCb;AACEF,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,yBAAvC,CAAN;AAAA;AAHb,CAtCa,CAAf;AA6CA,IAAMI,MAAM,GAAG,IAAIX,SAAJ,CAAc;AAC3BY,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,eAAe,EAAE,QAFU;AAG3BT,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAO,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,QAAQ,GAAGH,EAAE,CAACI,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACb,IAAP,CAAYC,MAAhB;AAAA,GAAtB,CAAjB,CADoC,CAEpC;;AACA,MAAMC,iBAAiB,GAAGK,EAAE,CAACI,OAAH,CAAWC,IAAX,CACxB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACb,IAAP,CAAYE,iBAAhB;AAAA,GADkB,CAA1B;AAGA,MAAMY,QAAQ,GAAG,CAAC,CAACpB,YAAY,CAACqB,QAAb,EAAnB;;AAEA,MAAI,CAACL,QAAD,IAAa,CAACI,QAAlB,EAA4B;AAC1B,WAAOL,IAAI,CAAC;AACVZ,MAAAA,IAAI,EAAE;AADI,KAAD,CAAX,CAD0B,CAI1B;AACD,GAbmC,CAepC;;;AACA,MAAIK,iBAAiB,IAAIY,QAAzB,EAAmC;AACjC,WAAOL,IAAI,CAAC,OAAD,CAAX;AACD;;AAEDA,EAAAA,IAAI;AACL,CArBD;AAuBA,eAAeN,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport TokenService from '../services/service.token';\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: {\n      public: true,\n      onlyWhenLoggedOut: true,\n    },\n  },\n  {\n    path: '/signin',\n    name: 'Signin',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Signin.vue'),\n    meta: {\n      public: true,\n      onlyWhenLoggedOut: true,\n    },\n  },\n  {\n    path: '/signup',\n    name: 'Signup',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Signup.vue'),\n    meta: {\n      public: true,\n      onlyWhenLoggedOut: true,\n    },\n  },\n  {\n    path: '/feed',\n    name: 'Feed',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Feed.vue'),\n  },\n  {\n    path: '/user',\n    name: 'User',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/User.vue'),\n  },\n  {\n    path: '/search',\n    name: 'Search',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Search.vue'),\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  linkActiveClass: \"active\",\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const isPublic = to.matched.some(record => record.meta.public);\n  // const isClient = to.matched.some(record => record.meta.client);\n  const onlyWhenLoggedOut = to.matched.some(\n    record => record.meta.onlyWhenLoggedOut\n  );\n  const loggedIn = !!TokenService.getToken();\n\n  if (!isPublic && !loggedIn) {\n    return next({\n      path: '/',\n    });\n    // query: { redirect: to.fullPath, type: 'checked' },\n  }\n\n  // Do not allow user to visit login page or register page if they are logged in\n  if (onlyWhenLoggedOut && loggedIn) {\n    return next('/feed');\n  }\n\n  next();\n});\n\nexport default router\n"]}]}