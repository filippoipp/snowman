{"remainingRequest":"/home/filippo/Área de Trabalho/snowman/front/node_modules/babel-loader/lib/index.js!/home/filippo/Área de Trabalho/snowman/front/node_modules/eslint-loader/index.js??ref--13-0!/home/filippo/Área de Trabalho/snowman/front/src/store/modules/user.js","dependencies":[{"path":"/home/filippo/Área de Trabalho/snowman/front/src/store/modules/user.js","mtime":1617752388929},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/cache-loader/dist/cjs.js","mtime":1614099632392},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/babel-loader/lib/index.js","mtime":1614027570184},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/eslint-loader/index.js","mtime":1605203058655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2ZpbGlwcG8vXHhDMXJlYSBkZSBUcmFiYWxoby9zbm93bWFuL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgc2V0Q3VycmVudFVzZXIsIGdldEN1cnJlbnRVc2VyLCBzZXRDdXJyZW50U2VhcmNoLCBnZXRDdXJyZW50U2VhcmNoIH0gZnJvbSAiLi4vLi4vdXRpbHMiOwppbXBvcnQgVG9rZW5TZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL3NlcnZpY2UudG9rZW4nOwppbXBvcnQgQXBpU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9zZXJ2aWNlLmFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgY3VycmVudFVzZXI6IGdldEN1cnJlbnRVc2VyKCksCiAgICBsb2dpbkVycm9yOiBudWxsLAogICAgcHJvY2Vzc2luZzogZmFsc2UsCiAgICBzZWFyY2g6IGdldEN1cnJlbnRTZWFyY2goKQogIH0sCiAgZ2V0dGVyczogewogICAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jdXJyZW50VXNlcjsKICAgIH0sCiAgICBwcm9jZXNzaW5nOiBmdW5jdGlvbiBwcm9jZXNzaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9jZXNzaW5nOwogICAgfSwKICAgIGxvZ2luRXJyb3I6IGZ1bmN0aW9uIGxvZ2luRXJyb3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvZ2luRXJyb3I7CiAgICB9LAogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlYXJjaDsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jdXJyZW50VXNlciA9IHBheWxvYWQ7CiAgICAgIHN0YXRlLnByb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgc3RhdGUubG9naW5FcnJvciA9IG51bGw7CiAgICB9LAogICAgc2V0TG9nb3V0OiBmdW5jdGlvbiBzZXRMb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldFByb2Nlc3Npbmc6IGZ1bmN0aW9uIHNldFByb2Nlc3Npbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUucHJvY2Vzc2luZyA9IHBheWxvYWQ7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5sb2dpbkVycm9yID0gcGF5bG9hZDsKICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICB9LAogICAgc2V0U2VhcmNoOiBmdW5jdGlvbiBzZXRTZWFyY2goc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc2VhcmNoID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRGb3Jnb3RNYWlsU3VjY2VzczogZnVuY3Rpb24gc2V0Rm9yZ290TWFpbFN1Y2Nlc3Moc3RhdGUpIHsKICAgICAgc3RhdGUubG9naW5FcnJvciA9IG51bGw7CiAgICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gbnVsbDsKICAgICAgc3RhdGUucHJvY2Vzc2luZyA9IGZhbHNlOwogICAgfSwKICAgIHNldFJlc2V0UGFzc3dvcmRTdWNjZXNzOiBmdW5jdGlvbiBzZXRSZXNldFBhc3N3b3JkU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dpbkVycm9yID0gbnVsbDsKICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24gY2xlYXJFcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dpbkVycm9yID0gbnVsbDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXNlciwgaXRlbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIGNvbW1pdCgiY2xlYXJFcnJvciIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRQcm9jZXNzaW5nIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hdXRoJywgewogICAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBheWxvYWQucGFzc3dvcmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIFRva2VuU2VydmljZS5zZXRUb2tlbih1c2VyLmRhdGEudG9rZW4pOwogICAgICAgICAgICAgICAgQXBpU2VydmljZS5zZXRIZWFkZXJBdXRob3JpemF0aW9uKCk7CiAgICAgICAgICAgICAgICBpdGVtID0gewogICAgICAgICAgICAgICAgICB0b2tlbjogdXNlci5kYXRhLnRva2VuLAogICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyLmRhdGEudXNlci5pZCwKICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5kYXRhLnVzZXIubmFtZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZXRDdXJyZW50VXNlcihpdGVtKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0VXNlciIsIGl0ZW0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NoZWdvdScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgc2V0Q3VycmVudFVzZXIobnVsbCk7CiAgICAgICAgICAgICAgICBjb21taXQoInNldEVycm9yIiwgX2NvbnRleHQudDAubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgICAgICAgICAgICB9LCAzMDAwKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlYXJjaFVzZXJzOiBmdW5jdGlvbiBzZWFyY2hVc2VycyhfcmVmMiwgcGF5bG9hZCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBzZXRDdXJyZW50U2VhcmNoKHBheWxvYWQpOwogICAgICBjb21taXQoInNldFNlYXJjaCIsIHBheWxvYWQpOwogICAgfSwKICAgIHNpZ25PdXQ6IGZ1bmN0aW9uIHNpZ25PdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgc2V0Q3VycmVudFVzZXIobnVsbCk7CiAgICAgIGNvbW1pdCgic2V0TG9nb3V0Iik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/filippo/Área de Trabalho/snowman/front/src/store/modules/user.js"],"names":["axios","setCurrentUser","getCurrentUser","setCurrentSearch","getCurrentSearch","TokenService","ApiService","state","currentUser","loginError","processing","search","getters","mutations","setUser","payload","setLogout","setProcessing","setError","setSearch","setForgotMailSuccess","setResetPasswordSuccess","clearError","actions","login","commit","post","email","password","user","setToken","data","token","setHeaderAuthorization","item","user_id","id","name","console","log","message","setTimeout","searchUsers","signOut"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,cAAzB,EAAyCC,gBAAzC,EAA2DC,gBAA3D,QAAmF,aAAnF;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAEN,cAAc,EADtB;AAELO,IAAAA,UAAU,EAAE,IAFP;AAGLC,IAAAA,UAAU,EAAE,KAHP;AAILC,IAAAA,MAAM,EAAEP,gBAAgB;AAJnB,GADM;AAObQ,EAAAA,OAAO,EAAE;AACPJ,IAAAA,WAAW,EAAE,qBAAAD,KAAK;AAAA,aAAIA,KAAK,CAACC,WAAV;AAAA,KADX;AAEPE,IAAAA,UAAU,EAAE,oBAAAH,KAAK;AAAA,aAAIA,KAAK,CAACG,UAAV;AAAA,KAFV;AAGPD,IAAAA,UAAU,EAAE,oBAAAF,KAAK;AAAA,aAAIA,KAAK,CAACE,UAAV;AAAA,KAHV;AAIPE,IAAAA,MAAM,EAAE,gBAAAJ,KAAK;AAAA,aAAIA,KAAK,CAACI,MAAV;AAAA;AAJN,GAPI;AAabE,EAAAA,SAAS,EAAE;AACTC,IAAAA,OADS,mBACDP,KADC,EACMQ,OADN,EACe;AACtBR,MAAAA,KAAK,CAACC,WAAN,GAAoBO,OAApB;AACAR,MAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;AACAH,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD,KALQ;AAMTO,IAAAA,SANS,qBAMCT,KAND,EAMQ;AACfA,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;AACAH,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD,KAVQ;AAWTQ,IAAAA,aAXS,yBAWKV,KAXL,EAWYQ,OAXZ,EAWqB;AAC5BR,MAAAA,KAAK,CAACG,UAAN,GAAmBK,OAAnB;AACAR,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD,KAdQ;AAeTS,IAAAA,QAfS,oBAeAX,KAfA,EAeOQ,OAfP,EAegB;AACvBR,MAAAA,KAAK,CAACE,UAAN,GAAmBM,OAAnB;AACAR,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;AACD,KAnBQ;AAoBTS,IAAAA,SApBS,qBAoBCZ,KApBD,EAoBQQ,OApBR,EAoBiB;AACxBR,MAAAA,KAAK,CAACI,MAAN,GAAeI,OAAf;AACD,KAtBQ;AAuBTK,IAAAA,oBAvBS,gCAuBYb,KAvBZ,EAuBmB;AAC1BA,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACAF,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;AACD,KA3BQ;AA4BTW,IAAAA,uBA5BS,mCA4Bed,KA5Bf,EA4BsB;AAC7BA,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACAF,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACG,UAAN,GAAmB,KAAnB;AACD,KAhCQ;AAiCTY,IAAAA,UAjCS,sBAiCEf,KAjCF,EAiCS;AAChBA,MAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACD;AAnCQ,GAbE;AAkDbc,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACiBT,OADjB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAnBU,gBAAAA,MAAmB,QAAnBA,MAAmB;AAC/BA,gBAAAA,MAAM,CAAC,YAAD,CAAN;AACAA,gBAAAA,MAAM,CAAC,eAAD,EAAkB,IAAlB,CAAN;AAF+B;AAAA;AAAA,uBAKVzB,KAAK,CAAC0B,IAAN,CAAW,OAAX,EAAoB;AACrCC,kBAAAA,KAAK,EAAEZ,OAAO,CAACY,KADsB;AAErCC,kBAAAA,QAAQ,EAAEb,OAAO,CAACa;AAFmB,iBAApB,CALU;;AAAA;AAKvBC,gBAAAA,IALuB;AAU7BxB,gBAAAA,YAAY,CAACyB,QAAb,CAAsBD,IAAI,CAACE,IAAL,CAAUC,KAAhC;AAEA1B,gBAAAA,UAAU,CAAC2B,sBAAX;AAEMC,gBAAAA,IAduB,GAchB;AAAEF,kBAAAA,KAAK,EAAEH,IAAI,CAACE,IAAL,CAAUC,KAAnB;AAA0BG,kBAAAA,OAAO,EAAEN,IAAI,CAACE,IAAL,CAAUF,IAAV,CAAeO,EAAlD;AAAsDC,kBAAAA,IAAI,EAAER,IAAI,CAACE,IAAL,CAAUF,IAAV,CAAeQ;AAA3E,iBAdgB;AAAA;AAAA,uBAevBpC,cAAc,CAACiC,IAAD,CAfS;;AAAA;AAgB7BT,gBAAAA,MAAM,CAAC,SAAD,EAAYS,IAAZ,CAAN;AACAI,gBAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAjB6B;AAAA;;AAAA;AAAA;AAAA;AAmB7BD,gBAAAA,OAAO,CAACC,GAAR;AACAtC,gBAAAA,cAAc,CAAC,IAAD,CAAd;AACAwB,gBAAAA,MAAM,CAAC,UAAD,EAAa,YAAIe,OAAjB,CAAN;AACAC,gBAAAA,UAAU,CAAC,YAAM;AACfhB,kBAAAA,MAAM,CAAC,YAAD,CAAN;AACD,iBAFS,EAEP,IAFO,CAAV;;AAtB6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BhC,KA3BM;AA6BPiB,IAAAA,WA7BO,8BA6BiB3B,OA7BjB,EA6B0B;AAAA,UAAnBU,MAAmB,SAAnBA,MAAmB;AAC/BtB,MAAAA,gBAAgB,CAACY,OAAD,CAAhB;AACAU,MAAAA,MAAM,CAAC,WAAD,EAAcV,OAAd,CAAN;AACD,KAhCM;AAkCP4B,IAAAA,OAlCO,0BAkCa;AAAA,UAAVlB,MAAU,SAAVA,MAAU;AAClBxB,MAAAA,cAAc,CAAC,IAAD,CAAd;AACAwB,MAAAA,MAAM,CAAC,WAAD,CAAN;AACD;AArCM;AAlDI,CAAf","sourcesContent":["import axios from 'axios'\nimport { setCurrentUser, getCurrentUser, setCurrentSearch, getCurrentSearch } from \"../../utils\";\nimport TokenService from '../../services/service.token';\nimport ApiService from '../../services/service.api';\n\nexport default {\n  state: {\n    currentUser: getCurrentUser(),\n    loginError: null,\n    processing: false,\n    search: getCurrentSearch()\n  },\n  getters: {\n    currentUser: state => state.currentUser,\n    processing: state => state.processing,\n    loginError: state => state.loginError,\n    search: state => state.search\n  },\n  mutations: {\n    setUser(state, payload) {\n      state.currentUser = payload;\n      state.processing = false;\n      state.loginError = null;\n    },\n    setLogout(state) {\n      state.currentUser = null;\n      state.processing = false;\n      state.loginError = null;\n    },\n    setProcessing(state, payload) {\n      state.processing = payload;\n      state.loginError = null;\n    },\n    setError(state, payload) {\n      state.loginError = payload;\n      state.currentUser = null;\n      state.processing = false;\n    },\n    setSearch(state, payload) {\n      state.search = payload\n    },\n    setForgotMailSuccess(state) {\n      state.loginError = null;\n      state.currentUser = null;\n      state.processing = false;\n    },\n    setResetPasswordSuccess(state) {\n      state.loginError = null;\n      state.currentUser = null;\n      state.processing = false;\n    },\n    clearError(state) {\n      state.loginError = null;\n    }\n  },\n  actions: {\n    async login({ commit }, payload) {\n      commit(\"clearError\");\n      commit(\"setProcessing\", true);\n\n      try {\n        const user = await axios.post('/auth', {\n          email: payload.email,\n          password: payload.password\n        })\n\n        TokenService.setToken(user.data.token);\n\n        ApiService.setHeaderAuthorization();\n\n        const item = { token: user.data.token, user_id: user.data.user.id, name: user.data.user.name };\n        await setCurrentUser(item);\n        commit(\"setUser\", item);\n        console.log('chegou')\n      } catch (err) {\n        console.log(err)\n        setCurrentUser(null);\n        commit(\"setError\", err.message);\n        setTimeout(() => {\n          commit(\"clearError\");\n        }, 3000);\n      }\n    },\n\n    searchUsers({ commit }, payload) {\n      setCurrentSearch(payload);\n      commit(\"setSearch\", payload);    \n    },\n\n    signOut({ commit }) {\n      setCurrentUser(null);\n      commit(\"setLogout\");\n    },\n  }\n};\n"]}]}