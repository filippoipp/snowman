{"remainingRequest":"/home/filippo/Área de Trabalho/snowman/front/node_modules/babel-loader/lib/index.js!/home/filippo/Área de Trabalho/snowman/front/node_modules/eslint-loader/index.js??ref--13-0!/home/filippo/Área de Trabalho/snowman/front/src/store/modules/user.js","dependencies":[{"path":"/home/filippo/Área de Trabalho/snowman/front/src/store/modules/user.js","mtime":1617756366934},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/cache-loader/dist/cjs.js","mtime":1614099632392},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/babel-loader/lib/index.js","mtime":1614027570184},{"path":"/home/filippo/Área de Trabalho/snowman/front/node_modules/eslint-loader/index.js","mtime":1605203058655}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2ZpbGlwcG8vXHhDMXJlYSBkZSBUcmFiYWxoby9zbm93bWFuL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgc2V0Q3VycmVudFVzZXIsIGdldEN1cnJlbnRVc2VyLCBzZXRDdXJyZW50U2VhcmNoLCBnZXRDdXJyZW50U2VhcmNoLCBnZXRDdXJyZW50Vmlld1VzZXIsIHNldEN1cnJlbnRWaWV3VXNlciB9IGZyb20gIi4uLy4uL3V0aWxzIjsKaW1wb3J0IFRva2VuU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9zZXJ2aWNlLnRva2VuJzsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvc2VydmljZS5hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGN1cnJlbnRVc2VyOiBnZXRDdXJyZW50VXNlcigpLAogICAgbG9naW5FcnJvcjogbnVsbCwKICAgIHByb2Nlc3Npbmc6IGZhbHNlLAogICAgc2VhcmNoOiBnZXRDdXJyZW50U2VhcmNoKCksCiAgICB2aWV3VXNlcjogZ2V0Q3VycmVudFZpZXdVc2VyKCkKICB9LAogIGdldHRlcnM6IHsKICAgIGN1cnJlbnRVc2VyOiBmdW5jdGlvbiBjdXJyZW50VXNlcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY3VycmVudFVzZXI7CiAgICB9LAogICAgcHJvY2Vzc2luZzogZnVuY3Rpb24gcHJvY2Vzc2luZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUucHJvY2Vzc2luZzsKICAgIH0sCiAgICBsb2dpbkVycm9yOiBmdW5jdGlvbiBsb2dpbkVycm9yKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dpbkVycm9yOwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5zZWFyY2g7CiAgICB9LAogICAgdmlld1VzZXI6IGZ1bmN0aW9uIHZpZXdVc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS52aWV3VXNlcjsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jdXJyZW50VXNlciA9IHBheWxvYWQ7CiAgICAgIHN0YXRlLnByb2Nlc3NpbmcgPSBmYWxzZTsKICAgICAgc3RhdGUubG9naW5FcnJvciA9IG51bGw7CiAgICB9LAogICAgc2V0TG9nb3V0OiBmdW5jdGlvbiBzZXRMb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldFByb2Nlc3Npbmc6IGZ1bmN0aW9uIHNldFByb2Nlc3Npbmcoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUucHJvY2Vzc2luZyA9IHBheWxvYWQ7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5sb2dpbkVycm9yID0gcGF5bG9hZDsKICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICB9LAogICAgc2V0U2VhcmNoOiBmdW5jdGlvbiBzZXRTZWFyY2goc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc2VhcmNoID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRWaWV3VXNlcjogZnVuY3Rpb24gc2V0Vmlld1VzZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudmlld1VzZXIgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldEZvcmdvdE1haWxTdWNjZXNzOiBmdW5jdGlvbiBzZXRGb3Jnb3RNYWlsU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dpbkVycm9yID0gbnVsbDsKICAgICAgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogICAgICBzdGF0ZS5wcm9jZXNzaW5nID0gZmFsc2U7CiAgICB9LAogICAgc2V0UmVzZXRQYXNzd29yZFN1Y2Nlc3M6IGZ1bmN0aW9uIHNldFJlc2V0UGFzc3dvcmRTdWNjZXNzKHN0YXRlKSB7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSBudWxsOwogICAgICBzdGF0ZS5jdXJyZW50VXNlciA9IG51bGw7CiAgICAgIHN0YXRlLnByb2Nlc3NpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbiBjbGVhckVycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLmxvZ2luRXJyb3IgPSBudWxsOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCB1c2VyLCBpdGVtOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgICAgICAgICAgICBjb21taXQoInNldFByb2Nlc3NpbmciLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL2F1dGgnLCB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGF5bG9hZC5wYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgVG9rZW5TZXJ2aWNlLnNldFRva2VuKHVzZXIuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICBBcGlTZXJ2aWNlLnNldEhlYWRlckF1dGhvcml6YXRpb24oKTsKICAgICAgICAgICAgICAgIGl0ZW0gPSB7CiAgICAgICAgICAgICAgICAgIHRva2VuOiB1c2VyLmRhdGEudG9rZW4sCiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXIuZGF0YS51c2VyLmlkLAogICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLmRhdGEudXNlci5uYW1lCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIHNldEN1cnJlbnRVc2VyKGl0ZW0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRVc2VyIiwgaXRlbSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2hlZ291Jyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgICBzZXRDdXJyZW50VXNlcihudWxsKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCBfY29udGV4dC50MC5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb21taXQoImNsZWFyRXJyb3IiKTsKICAgICAgICAgICAgICAgIH0sIDMwMDApOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VhcmNoVXNlcnM6IGZ1bmN0aW9uIHNlYXJjaFVzZXJzKF9yZWYyLCBwYXlsb2FkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHNldEN1cnJlbnRTZWFyY2gocGF5bG9hZCk7CiAgICAgIGNvbW1pdCgic2V0U2VhcmNoIiwgcGF5bG9hZCk7CiAgICB9LAogICAgdmlld1VzZXI6IGZ1bmN0aW9uIHZpZXdVc2VyKF9yZWYzLCBwYXlsb2FkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHNldEN1cnJlbnRWaWV3VXNlcihwYXlsb2FkKTsKICAgICAgY29tbWl0KCJzZXRWaWV3VXNlciIsIHBheWxvYWQpOwogICAgfSwKICAgIHNpZ25PdXQ6IGZ1bmN0aW9uIHNpZ25PdXQoX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgVG9rZW5TZXJ2aWNlLnJlbW92ZVRva2VuKCk7CiAgICAgIFRva2VuU2VydmljZS5yZW1vdmVSZWZyZXNoVG9rZW4oKTsKICAgICAgQXBpU2VydmljZS5yZW1vdmVIZWFkZXJBdXRob3JpemF0aW9uKCk7CiAgICAgIEFwaVNlcnZpY2UudW5tb3VudDQwMUludGVyY2VwdG9yKCk7CiAgICAgIHNldEN1cnJlbnRVc2VyKG51bGwpOwogICAgICBjb21taXQoInNldExvZ291dCIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/filippo/Área de Trabalho/snowman/front/src/store/modules/user.js"],"names":["axios","setCurrentUser","getCurrentUser","setCurrentSearch","getCurrentSearch","getCurrentViewUser","setCurrentViewUser","TokenService","ApiService","state","currentUser","loginError","processing","search","viewUser","getters","mutations","setUser","payload","setLogout","setProcessing","setError","setSearch","setViewUser","setForgotMailSuccess","setResetPasswordSuccess","clearError","actions","login","commit","post","email","password","user","setToken","data","token","setHeaderAuthorization","item","user_id","id","name","console","log","message","setTimeout","searchUsers","signOut","removeToken","removeRefreshToken","removeHeaderAuthorization","unmount401Interceptor"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport { setCurrentUser, getCurrentUser, setCurrentSearch, getCurrentSearch, getCurrentViewUser, setCurrentViewUser } from \"../../utils\";\nimport TokenService from '../../services/service.token';\nimport ApiService from '../../services/service.api';\n\nexport default {\n  state: {\n    currentUser: getCurrentUser(),\n    loginError: null,\n    processing: false,\n    search: getCurrentSearch(),\n    viewUser: getCurrentViewUser()\n  },\n  getters: {\n    currentUser: state => state.currentUser,\n    processing: state => state.processing,\n    loginError: state => state.loginError,\n    search: state => state.search,\n    viewUser: state => state.viewUser\n  },\n  mutations: {\n    setUser(state, payload) {\n      state.currentUser = payload;\n      state.processing = false;\n      state.loginError = null;\n    },\n    setLogout(state) {\n      state.currentUser = null;\n      state.processing = false;\n      state.loginError = null;\n    },\n    setProcessing(state, payload) {\n      state.processing = payload;\n      state.loginError = null;\n    },\n    setError(state, payload) {\n      state.loginError = payload;\n      state.currentUser = null;\n      state.processing = false;\n    },\n    setSearch(state, payload) {\n      state.search = payload\n    },\n    setViewUser(state, payload) {\n      state.viewUser = payload\n    },\n    setForgotMailSuccess(state) {\n      state.loginError = null;\n      state.currentUser = null;\n      state.processing = false;\n    },\n    setResetPasswordSuccess(state) {\n      state.loginError = null;\n      state.currentUser = null;\n      state.processing = false;\n    },\n    clearError(state) {\n      state.loginError = null;\n    }\n  },\n  actions: {\n    async login({ commit }, payload) {\n      commit(\"clearError\");\n      commit(\"setProcessing\", true);\n\n      try {\n        const user = await axios.post('/auth', {\n          email: payload.email,\n          password: payload.password\n        })\n\n        TokenService.setToken(user.data.token);\n\n        ApiService.setHeaderAuthorization();\n\n        const item = { token: user.data.token, user_id: user.data.user.id, name: user.data.user.name };\n        await setCurrentUser(item);\n        commit(\"setUser\", item);\n        console.log('chegou')\n      } catch (err) {\n        console.log(err)\n        setCurrentUser(null);\n        commit(\"setError\", err.message);\n        setTimeout(() => {\n          commit(\"clearError\");\n        }, 3000);\n      }\n    },\n\n    searchUsers({ commit }, payload) {\n      setCurrentSearch(payload);\n      commit(\"setSearch\", payload);    \n    },\n\n    viewUser({ commit }, payload) {\n      setCurrentViewUser(payload);\n      commit(\"setViewUser\", payload)\n    },\n\n    signOut({ commit }) {\n      TokenService.removeToken();\n      TokenService.removeRefreshToken();\n      ApiService.removeHeaderAuthorization();\n      ApiService.unmount401Interceptor();\n      setCurrentUser(null);\n      commit(\"setLogout\");\n    },\n  }\n};\n"]}]}